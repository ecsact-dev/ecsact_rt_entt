build --enable_platform_specific_config
build --incompatible_use_platforms_repo_for_constraints
build --incompatible_enable_cc_toolchain_resolution

build:windows --platforms=//:windows
build:windows --extra_execution_platforms=//:windows
build:windows --extra_toolchains=@local_config_cc//:cc-toolchain-x64_windows-clang-cl
build:windows --cxxopt=/std:c++latest
build:windows --cxxopt=-Xclang
build:windows --cxxopt=-fcolor-diagnostics
build:windows --cxxopt=-Xclang
build:windows --cxxopt=-fansi-escape-codes
build:windows --cxxopt=/D_HAS_DEPRECATED_RESULT_OF=1
build:windows --cxxopt=/Zc:__cplusplus
build:windows --cxxopt=/D_SILENCE_CLANG_COROUTINE_MESSAGE=1
build:windows --cxxopt=/DBOOST_ASIO_DISABLE_STD_COROUTINE=1

build:linux --platforms=//:linux
build:linux --extra_toolchains=@llvm_toolchain//:cc-toolchain-linux
build:linux --cxxopt=-std=c++20
build:linux --cxxopt=-stdlib=libstdc++
build:linux --linkopt=-lstdc++

build --cxxopt=-Wno-macro-redefined # For boost, because it's really annoying.

common --watchfs
common --experimental_windows_watchfs
common --enable_runfiles

try-import %workspace%/user.bazelrc
